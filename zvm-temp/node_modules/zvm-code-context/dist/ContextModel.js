import { createModel } from './helper';
export const APP_COMPONENT_ID = 'App';
export const ContextModel = createModel(function ContextModel({ component, query, }) {
    const engine = component.engine;
    const si = engine.systemInterface;
    const discover = (compId) => {
        return component.discover(compId);
    };
    const navigate = (path, config) => {
        si.navigate(path);
    };
    const appComponent = component.discover(APP_COMPONENT_ID);
    const appCompVariables = appComponent.state || appComponent.variables;
    const globalData = appCompVariables?.App_CustomState.get();
    const pageComponent = engine.root.getPage();
    const pageCompVariables = pageComponent.state || pageComponent.variables;
    const pageData = pageCompVariables.Page_CustomState;
    return { component, discover, query, navigate, globalData, pageData };
});
export const AppContextProvider = ContextModel.Provider;
export function useAppContext() {
    return ContextModel.useModel();
}
//# sourceMappingURL=ContextModel.js.map